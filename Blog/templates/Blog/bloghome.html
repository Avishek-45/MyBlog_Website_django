{% extends 'Blog/base.html' %}
{% block blogactive %}active{% endblock blogactive %}
{% block css %}
<style>
.container{
        min-height: 90vh;    
}
</style>
{% endblock css %}

{{% block body %}
<div class="container my-3" >
    <h1 class="text-blod mb-3 text-center">Welcome, to our blog page.</h1>
    {% for blog in page_obj %}
<div class="col-md-6">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <strong class="d-inline-block mb-2 text-primary"><a href="/blogpost/{{blog.slug}}" class="text-dark"  ><h3>{{blog.title}}</h3></a></strong>
          <p class="mb-0">Article by:<b>{{blog.Author}}</b></p>
          <div class="mb-1 text-muted">{{blog.time}}</div>
          <p class="card-text mb-auto">{{blog.short_desc|truncatechars:500}}...</p>
          <div>
           <button class="btn btn-primary mt-3"><a href="/blogpost/{{blog.slug}}" class="text-white"  >Read more..</a></button>
           </div>
        </div>
        
      </div>
    </div>
    {% endfor %}
 </div>

 {% comment %} Pagination logics {% endcomment %}
 
<div class='text-center'>
      {% if page_obj.has_previous %}
        <a class="btn btn-outline-info mb-4" href="?page=1">&laquo;First</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
          <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
        <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last&raquo;</a>
      {% endif %}
</div>
    
{% endblock body %}}